{"version":3,"sources":["components/BaArednMap.jsx","components/Header.jsx","App.jsx","serviceWorker.js","index.js"],"names":["PurpleIcon","Icon","iconUrl","iconSize","OrangeIcon","BlueIcon","MagentaIcon","GrayIcon","getIcon","rf","chan","parseInt","channel","freq","indexOf","BaArednMap","state","zoom","mapCenter","lat","lon","this","props","appConfig","length","rfconns","tunconns","nodes","done","nodesData","forEach","n","canonicalHostname","node","fn","link_info","m","tn","hostname","to","conn","pos","from","linkType","push","mapSettings","Map","ref","className","center","scrollWheelZoom","TileLayer","attribution","url","map","Polyline","color","weight","positions","Popup","maxWidth","href","onClick","openPopup","dashArray","Marker","toUpperCase","key","position","icon","meshrf","target","style","verticalAlign","node_details","description","status","ssid","chanbw","interfaces","mac","model","width","firmware_version","whiteSpace","id","popup","refs","fireLeafletEvent","replace","Component","Header","band","filter","includes","Image","src","countNodes","App","axios","get","ip","sysinfo","resource","params","nodeInfo","data","Object","keys","setState","hosts","alertify","alert","regex","RegExp","nodesFilter","filteredNodeList","h","name","trim","match","retrieveNodeDetails","document","title","contactInfo","callsign","process","getNodesData","Boolean","window","location","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.a717f59a.chunk.js","sourcesContent":["// @flow\n\nimport React, { Component } from \"react\";\nimport { Map, TileLayer, Marker, Popup, Polyline } from \"react-leaflet\";\nimport { Icon } from \"leaflet\";\n\n\nconst TILE_URL=\"http://kn6plv-tiles.local.mesh/tile/{z}/{x}/{y}.png\";\n//const TILE_URL=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\";\n\nconst PurpleIcon = new Icon({\n  iconUrl: \"./purpleRadioCircle-icon.png\",\n  iconSize: [25, 25],\n})\n\nconst OrangeIcon = new Icon({\n  iconUrl: \"./goldRadioCircle-icon.png\",\n  iconSize: [25, 25],\n})\n\nconst BlueIcon = new Icon({\n  iconUrl: \"./blueRadioCircle-icon.png\",\n  iconSize: [25, 25],\n})\n\nconst MagentaIcon = new Icon({\n  iconUrl: \"./magentaRadioCircle-icon.png\",\n  iconSize: [25, 25],\n})\n\nconst GrayIcon = new Icon({\n  iconUrl: \"./grayRadioCircle-icon.png\",\n  iconSize: [25, 25],\n})\n\n// Function to get the Freq Icon\nfunction getIcon(rf){\n  const chan = parseInt(rf.channel);\n  if (chan >= 3380 && chan <= 3495) {\n    return BlueIcon;\n  }\n  const freq = rf.freq;\n  if (freq) {\n    if(freq.indexOf(\"2\") === 0) {\n      return PurpleIcon;\n    }\n    else if(freq.indexOf(\"5\") === 0){\n      return OrangeIcon;\n    }\n    else if(freq.indexOf(\"3\") === 0){\n      return BlueIcon;\n    }\n    else if (freq.indexOf(\"900\") === 0){\n      return MagentaIcon;\n    }\n  }\n  return GrayIcon;\n}\n\nclass BaArednMap extends Component {\n\n  state = {\n      //appConfig: this.props.appConfig,\n      zoom: 9.5,\n      mapCenter: {\n        lat: 18.2,\n        lon: -66.3,\n      }\n  }\n\n  componentDidMount() {\n  }\n\n  render() {\n    if(this.props.appConfig.length === 0) {\n      return null;\n    }\n    else {\n      const rfconns = [];\n      const tunconns = [];\n      const nodes = {};\n      const done = {};\n      this.props.nodesData.forEach(n => nodes[this.canonicalHostname(n.node)] = n);\n      this.props.nodesData.forEach(n => {\n        if (!n.lat || !n.lon) {\n          return;\n        }\n        const fn = this.canonicalHostname(n.node);\n        n.link_info.forEach(m => {\n          const tn = this.canonicalHostname(m.hostname);\n          const to = nodes[tn];\n          if (to) {\n            if (!to.lat || !to.lon || done[`${tn}/${fn}`]) {\n              return;\n            }\n            const conn = { pos: [[ n.lat, n.lon ], [ to.lat, to.lon ]], from: fn, to: tn };\n            switch (m.linkType) {\n              case 'RF':\n                rfconns.push(conn);\n                break;\n              case 'TUN':\n                tunconns.push(conn);\n                break;\n              case 'DTD':\n              default:\n                break;\n            }\n            done[`${tn}/${fn}`] = true;\n            done[`${fn}/${tn}`] = true;\n          }\n        });\n      });\n      const mapCenter = [this.props.appConfig.mapSettings.mapCenter.lat, this.props.appConfig.mapSettings.mapCenter.lon];\n      return (\n        <Map ref=\"map\" className=\"Map\" center={mapCenter} zoom={this.props.appConfig.mapSettings.zoom} scrollWheelZoom={false}>\n          <TileLayer\n            attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            url={TILE_URL}\n          />\n          {\n            rfconns.map(conn =>\n              <Polyline color=\"lime\" weight=\"2\" positions={conn.pos}>\n                <Popup maxWidth=\"500\">\n                  <a href=\"#\" onClick={()=>this.openPopup(conn.from)}>{conn.from}</a> &harr; <a href=\"#\" onClick={()=>this.openPopup(conn.to)}>{conn.to}</a>\n                </Popup>\n              </Polyline>\n            )\n          }\n          {\n            tunconns.map(conn =>\n              <Polyline color=\"grey\" weight=\"2\" dashArray=\"5 5\" positions={conn.pos}>\n                <Popup maxWidth=\"500\">\n                  <a href=\"#\" onClick={()=>this.openPopup(conn.from)}>{conn.from}</a> &harr; <a href=\"#\" onClick={()=>this.openPopup(conn.to)}>{conn.to}</a>\n                </Popup>\n              </Polyline>\n            )\n          }\n          { this.props.nodesData.map(n =>\n            <Marker ref={n.node.toUpperCase()} key={n.node} position={[n.lat,n.lon]} icon={ getIcon(n.meshrf) }>\n              <Popup maxWidth=\"350\"> {\n                <div><h6><a href={`http://${n.node}.local.mesh`} target=\"_blank\">{n.node}</a></h6>\n                  <table>\n                    <tr style={{verticalAlign:\"top\"}}><td>Desc</td><td>{n.node_details.description}</td></tr>\n                    <tr><td>Location</td><td>{n.lat},{n.lon}</td></tr>\n                    <tr><td>RF Status</td><td>{n.meshrf.status}</td></tr>\n                    { n.meshrf.status === 'on' && <tbody>\n                        <tr><td>SSID</td><td>{n.meshrf.ssid}</td></tr>\n                        <tr style={{verticalAlign:\"top\"}}><td>RF Channel</td><td>{n.meshrf.channel}</td></tr>\n                        <tr><td>RF Freq</td><td>{n.meshrf.freq}</td></tr>\n                        <tr><td>Bandwidth</td><td>{n.meshrf.chanbw} MHz</td></tr>\n                        <tr><td>MAC</td><td>{n.interfaces[0].mac}</td></tr>\n                        </tbody>\n                    }\n                    <tr style={{verticalAlign:\"top\"}}><td>Model</td><td>{n.node_details.model}</td></tr>\n                    <tr><td width=\"80\">Firmware</td><td>{n.node_details.firmware_version}</td></tr>\n                    <tr style={{verticalAlign:\"top\",whiteSpace:\"nowrap\"}}><td>Neighbors</td><td> {\n                      n.link_info.map(m => <div key={m.hostname}><a href=\"#\" onClick={()=>this.openPopup(m.hostname)}>{this.canonicalHostname(m.hostname)}</a> { m.linkType ? `(${m.linkType})` : \"\" } </div>)\n                    } </td></tr>\n                  </table>\n                </div>\n              } </Popup>\n            </Marker>)\n          }\n        </Map>\n      );\n    }\n  }\n\n  openPopup(id) {\n    const popup = this.refs[this.canonicalHostname(id)];\n    if (popup) {\n      popup.fireLeafletEvent('click');\n    }\n  }\n\n  canonicalHostname(hostname) {\n    return hostname.replace(/^\\./, '').replace(/\\.local\\.mesh$/i,'').toUpperCase()\n  }\n}\n\nexport default BaArednMap;\n","import React, { Component } from \"react\";\nimport { Image } from \"react-bootstrap\";\n\nclass Header extends Component {\n\n  state = { }\n\n  countNodes(nodesData, band) {\n    switch(band) {\n      case 900:\n        return nodesData.filter(n => n.meshrf.status === \"on\" && n.meshrf.freq.includes(\"900\")).length;\n      case 24:\n        return nodesData.filter(n => n.meshrf.status === \"on\" && n.meshrf.freq.includes(\"2.\")).length;\n      case 34:\n        return nodesData.filter(n => n.meshrf.status === \"on\" && (n.meshrf.freq.includes(\"3.\") || (n.meshrf.channel >= 3380 && n.meshrf.channel <= 3495))).length;\n      case 58:\n        return nodesData.filter(n => n.meshrf.status === \"on\" && n.meshrf.freq.includes(\"5.\")).length;\n      case 0:\n        return nodesData.filter(n => n.meshrf.status === \"off\").length\n      default:\n        return nodesData.filter(n => n.meshrf.status === \"off\").length\n    }\n  }\n\n  render() {\n    return (\n      <table className=\"Header\">\n        <tr>\n          <th>Band</th>\n          <th>Nodes</th>\n        </tr>\n        <tr>\n          <td>  <Image src=\"./magentaRadioCircle-icon.png\" width={20}></Image> 900 Mhz </td>\n          <td># { this.countNodes(this.props.nodesData, 900)} </td>\n        </tr>\n        <tr>\n          <td> <Image src=\"./purpleRadioCircle-icon.png\" width={20}></Image> 2.4 Ghz </td>\n          <td> # {this.countNodes(this.props.nodesData, 24)}</td>\n        </tr>\n        <tr>\n          <td> <Image src=\"./blueRadioCircle-icon.png\" width={20}></Image> 3.4 Ghz </td>\n          <td> # {this.countNodes(this.props.nodesData, 34)}</td>\n        </tr>\n        <tr>\n          <td><Image src=\"./goldRadioCircle-icon.png\" width={20}></Image> 5Ghz </td>\n          <td># {this.countNodes(this.props.nodesData, 58)}</td>\n        </tr>\n        <tr>\n          <td><Image src=\"./grayRadioCircle-icon.png\" width={20}></Image> Mesh RF Off </td>\n          <td># {this.countNodes(this.props.nodesData, 0)}</td>\n        </tr>\n      </table>\n    );\n  }\n}\n\nexport default Header;\n","// @flow\n\nimport \"leaflet/dist/leaflet.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport React, { Component } from \"react\";\nimport BaArednMap from \"./components/BaArednMap\"\nimport sysinfo from \"./APIResources.json\"\nimport axios from \"axios\"\nimport alertify from 'alertifyjs'\nimport \"alertifyjs/build/css/themes/default.min.css\"\nimport \"alertifyjs/build/css/alertify.min.css\"\nimport Header from './components/Header'\n\nclass App extends Component {\n\n  state = {\n    appConfig: [],\n    nodesData: []\n  }\n\n  // Get the details from the node. Recieves the name of the node.\n  async retrieveNodeDetails(node)\n  {\n    try {\n      const nodeInfo = await axios.get(`http://${node.ip}${sysinfo.resource}/?${sysinfo.params.link_info}`)\n      if (nodeInfo.status === 200 && nodeInfo.data.lat && nodeInfo.data.lon) {\n        const node = {\n          node: nodeInfo.data.node,\n          lat: nodeInfo.data.lat,\n          lon: nodeInfo.data.lon,\n          meshrf : nodeInfo.data.meshrf,\n          chanbw: nodeInfo.data.chanbw,\n          node_details: nodeInfo.data.node_details,\n          interfaces: nodeInfo.data.interfaces,\n          link_info: Object.keys(nodeInfo.data.link_info).map((key) => nodeInfo.data.link_info[key])\n        };\n\n        //  Add this node to the state\n        this.setState({nodesData: [...this.state.nodesData, node]})\n      }\n    }\n    catch(_) {\n    }\n  }\n\n  async getNodesData() {\n    try {\n      // Get the list of nodes / hosts before to retrieve the nodes information.\n      const nodes =  await axios.get(`http://localnode.local.mesh${sysinfo.resource}${sysinfo.params.hosts}`)\n      if(nodes.status !== 200) {\n        alertify.alert(\"Unable to find your AREDN node, please verify if you are connected to the MESH.\");\n      }\n      else {\n        // Get only the ones that matches the format CALLSIGN-CITY-COUNTRY-TYPE#NODENUMBER\n        const regex = new RegExp(this.state.appConfig.nodesFilter);\n        const filteredNodeList = nodes.data.hosts.filter(h => h.name.toUpperCase().trim().match(regex))\n        // Iterate thru each node to get the details.\n        Object.keys(filteredNodeList).forEach(key => this.retrieveNodeDetails(filteredNodeList[key]));\n      }\n    }\n    catch(e) {\n      alertify.alert(\"Unable to find your AREDN node, please verify if you are connected to the MESH.\");\n    }\n  }\n\n  async componentDidMount() {\n    const appConfig = await axios.get('appConfig.json')\n    this.setState({appConfig: appConfig.data})\n    document.title = `${this.state.appConfig.contactInfo.callsign} - ${process.env.REACT_APP_NAME} ${process.env.REACT_APP_VERSION} by ${process.env.REACT_APP_CREATOR}`;\n    this.getNodesData();\n  }\n\n  render() {\n    return (\n      <div>\n        <Header nodesData={this.state.nodesData} appConfig={this.state.appConfig}/>\n        <BaArednMap nodesData={this.state.nodesData} appConfig={this.state.appConfig}/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}